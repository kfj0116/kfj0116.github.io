<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Relearn,">










<meta name="description" content="Shallow Clone VS Deep Clone Shallow CloneIt is copying the reference pointer of the object which means the new object is also pointing towards the same memory reference of the old object.  Deep CloneT">
<meta name="keywords" content="Relearn">
<meta property="og:type" content="article">
<meta property="og:title" content="Deep Clone">
<meta property="og:url" content="http://yoursite.com/2019/11/24/deep-clone/index.html">
<meta property="og:site_name" content="Fanjia Kong">
<meta property="og:description" content="Shallow Clone VS Deep Clone Shallow CloneIt is copying the reference pointer of the object which means the new object is also pointing towards the same memory reference of the old object.  Deep CloneT">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-12-14T21:11:44.110Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Deep Clone">
<meta name="twitter:description" content="Shallow Clone VS Deep Clone Shallow CloneIt is copying the reference pointer of the object which means the new object is also pointing towards the same memory reference of the old object.  Deep CloneT">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/11/24/deep-clone/">





  <title>Deep Clone | Fanjia Kong</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Fanjia Kong</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Frontend Developer</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/24/deep-clone/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Fanjia Kong">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fanjia Kong">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Deep Clone</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-24T20:46:56+02:00">
                2019-11-24
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Shallow-Clone-VS-Deep-Clone"><a href="#Shallow-Clone-VS-Deep-Clone" class="headerlink" title="Shallow Clone VS Deep Clone"></a>Shallow Clone VS Deep Clone</h2><ul>
<li><p>Shallow Clone<br>It is copying the reference pointer of the object which means the new object is also pointing towards the same memory reference of the old object.</p>
</li>
<li><p>Deep Clone<br>The object will produce a copy of itself, a new memory is allocated for the object and its contents.</p>
</li>
</ul>
<a id="more"></a>

<h2 id="Shallow-Clone"><a href="#Shallow-Clone" class="headerlink" title="Shallow Clone"></a>Shallow Clone</h2><h3 id="Traversing-object-properties"><a href="#Traversing-object-properties" class="headerlink" title="Traversing object properties"></a>Traversing object properties</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function shallowClone(source) &#123;</span><br><span class="line">    let target = &#123;&#125;;</span><br><span class="line">    for(let i in source) &#123;</span><br><span class="line">        if (source.hasOwnProperty(i)) &#123;</span><br><span class="line">            target[i] = source[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return target;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let a1 = &#123;b: &#123;c: &#123;&#125;&#125;;</span><br><span class="line">let a2 = shallowClone(a1);</span><br><span class="line">a2.b.c === a1.b.c // true</span><br></pre></td></tr></table></figure>

<h3 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign()"></a>Object.assign()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let obj1 = &#123; a: 10, b: 20, c: 30 &#125;;</span><br><span class="line">let obj2 = Object.assign(&#123;&#125;, obj1);</span><br><span class="line">obj2.b = 100;</span><br><span class="line">console.log(obj1); // &#123; a: 10, b: 20, c: 30 &#125; &lt;-- not changed</span><br><span class="line">console.log(obj2); // &#123; a: 10, b: 100, c: 30 &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let obj = &#123; a: &#123;a: &quot;hello&quot;, b: 21&#125; &#125;;</span><br><span class="line">let cloneObj = Object.assign(&#123;&#125;, obj);</span><br><span class="line">cloneObj.a.a = &quot;changed&quot;;</span><br><span class="line">console.log(obj.a.a); // &quot;changed&quot;</span><br></pre></td></tr></table></figure>

<h2 id="Deep-Clone"><a href="#Deep-Clone" class="headerlink" title="Deep Clone"></a>Deep Clone</h2><h3 id="JSON-parse"><a href="#JSON-parse" class="headerlink" title="JSON.parse"></a>JSON.parse</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const oldObj = &#123;</span><br><span class="line">  a: 1,</span><br><span class="line">  b: [ &apos;e&apos;, &apos;f&apos;, &apos;g&apos; ],</span><br><span class="line">  c: &#123; h: &#123; i: 2 &#125; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const newObj = JSON.parse(JSON.stringify(oldObj));</span><br><span class="line">console.log(newObj.c.h, oldObj.c.h); // &#123; i: 2 &#125; &#123; i: 2 &#125;</span><br><span class="line">console.log(oldObj.c.h === newObj.c.h); // false</span><br><span class="line">newObj.c.h.i = &apos;change&apos;;</span><br><span class="line">console.log(newObj.c.h, oldObj.c.h); // &#123; i: &apos;change&apos; &#125; &#123; i: 2 &#125;</span><br></pre></td></tr></table></figure>

<p>This is easy, but it does not suit some situations.</p>
<ul>
<li>Can not clone function or Array object</li>
<li>Lose the constructor of Object</li>
<li>Throw error when Objects have circular references</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// constructor</span><br><span class="line">function person(pname) &#123;</span><br><span class="line">  this.name = pname;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const Fanjia = new person(&apos;Fanjia&apos;);</span><br><span class="line"></span><br><span class="line">// function</span><br><span class="line">function say() &#123;</span><br><span class="line">  console.log(&apos;hi&apos;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const oldObj = &#123;</span><br><span class="line">  a: say,</span><br><span class="line">  b: new Array(1),</span><br><span class="line">  c: Fanjia</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const newObj = JSON.parse(JSON.stringify(oldObj));</span><br><span class="line">console.log(newObj.a, oldObj.a); // undefined [Function: say]</span><br><span class="line">console.log(newObj.b[0], oldObj.b[0]); // null undefined</span><br><span class="line">console.log(newObj.c.constructor, oldObj.c.constructor); // [Function: Object] [Function: person]</span><br><span class="line"></span><br><span class="line">const Circular = &#123;&#125;;</span><br><span class="line">Circular.a = Circular;</span><br><span class="line">const newCircular = JSON.parse(JSON.stringify(Circular));</span><br><span class="line">console.log(newCircular.a, Circular.a); // TypeError: Converting circular structure to JSON</span><br></pre></td></tr></table></figure>

<h3 id="Recursion"><a href="#Recursion" class="headerlink" title="Recursion"></a>Recursion</h3><p>Check the object type.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">function isType(obj, type) &#123;</span><br><span class="line">  if (typeof obj !== &apos;object&apos;) &#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line">  const typeString = Object.prototype.toString.call(obj);</span><br><span class="line">  let flag;</span><br><span class="line">  switch (type) &#123;</span><br><span class="line">    case &apos;Array&apos;:</span><br><span class="line">      flag = typeString === &apos;[object Array]&apos;;</span><br><span class="line">      break;</span><br><span class="line">    case &apos;Date&apos;:</span><br><span class="line">      flag = typeString === &apos;[object Date]&apos;;</span><br><span class="line">      break;</span><br><span class="line">    default:</span><br><span class="line">      flag = false;</span><br><span class="line">  &#125;</span><br><span class="line">  return flag;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">function deepClone(source) &#123;</span><br><span class="line">  // store the circular references</span><br><span class="line">  const oldObjArr = [];</span><br><span class="line">  const newObjArr = [];</span><br><span class="line"></span><br><span class="line">  const _clone = oldObj =&gt; &#123;</span><br><span class="line">    if (oldObj === null) &#123;</span><br><span class="line">      return null;</span><br><span class="line">    &#125;</span><br><span class="line">    if (typeof oldObj !== &apos;object&apos;) &#123;</span><br><span class="line">      return oldObj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    let newObj,proto;</span><br><span class="line"></span><br><span class="line">    if (isType(oldObj, &apos;Array&apos;)) &#123;</span><br><span class="line">      newObj = [];</span><br><span class="line">    &#125; else if (isType(oldObj, &apos;Date&apos;)) &#123;</span><br><span class="line">      newObj = new Date(oldObj.getTime());</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      proto = Object.getPrototypeOf(oldObj);</span><br><span class="line">      // use Object.create cut the prototype chain</span><br><span class="line">      newObj = Object.create(proto);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // circular reference index</span><br><span class="line">    const index = oldObjArr.indexOf(oldObj);</span><br><span class="line">    if (index != -1) &#123;</span><br><span class="line">      return newObjArr[index];</span><br><span class="line">    &#125;</span><br><span class="line">    oldObjArr.push(oldObj);</span><br><span class="line">    newObjArr.push(newObj);</span><br><span class="line"></span><br><span class="line">    for (let i in oldObj) &#123;</span><br><span class="line">      newObj[i] = _clone(oldObj[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return newObj;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  return _clone(source);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// constructor</span><br><span class="line">function person(pname) &#123;</span><br><span class="line">  this.name = pname;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const Fanjia = new person(&apos;Fanjia&apos;);</span><br><span class="line"></span><br><span class="line">// function</span><br><span class="line">function say() &#123;</span><br><span class="line">  console.log(&apos;hi&apos;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const oldObj = &#123;</span><br><span class="line">  a: say,</span><br><span class="line">  b: new Array(1),</span><br><span class="line">  c: Fanjia</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const newObj = deepClone(oldObj);</span><br><span class="line">console.log(newObj.a, oldObj.a); //[Function: say] [Function: say]</span><br><span class="line">console.log(newObj.b[0], oldObj.b[0]); // undefined undefined</span><br><span class="line">console.log(newObj.c.constructor, oldObj.c.constructor); // [Function: person][Function: person]</span><br></pre></td></tr></table></figure>

<p>But there is still a question: stack overflow.</p>
<h3 id="Loop"><a href="#Loop" class="headerlink" title="Loop"></a>Loop</h3><p>We can use loop instead of recursion</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">function cloneLoop(source) &#123;</span><br><span class="line">    const uniqueList = [];</span><br><span class="line">    const root = &#123;&#125;;</span><br><span class="line">    // stack</span><br><span class="line">    const loopList = [</span><br><span class="line">        &#123;</span><br><span class="line">            parent: root,</span><br><span class="line">            key: undefined,</span><br><span class="line">            data: source,</span><br><span class="line">        &#125;</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    while(loopList.length) &#123;</span><br><span class="line">        // Depth First Search</span><br><span class="line">        const node = loopList.pop();</span><br><span class="line">        const parent = node.parent;</span><br><span class="line">        const key = node.key;</span><br><span class="line">        const data = node.data;</span><br><span class="line"></span><br><span class="line">        let res = parent;</span><br><span class="line">        if (typeof key !== &apos;undefined&apos;) &#123;</span><br><span class="line">            res = parent[key] = &#123;&#125;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        let uniqueData = find(uniqueList, data);</span><br><span class="line">        if (uniqueData) &#123;</span><br><span class="line">            parent[key] = uniqueData.target;</span><br><span class="line">            continue;</span><br><span class="line">        &#125;</span><br><span class="line">        uniqueList.push(&#123;</span><br><span class="line">            source: data,</span><br><span class="line">            target: res,</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        for(let k in data) &#123;</span><br><span class="line">            if (data.hasOwnProperty(k)) &#123;</span><br><span class="line">                if (typeof data[k] === &apos;object&apos;) &#123;</span><br><span class="line">                    loopList.push(&#123;</span><br><span class="line">                        parent: res,</span><br><span class="line">                        key: k,</span><br><span class="line">                        data: data[k],</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    res[k] = data[k];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return root;</span><br><span class="line">&#125;</span><br><span class="line">function find(arr, item) &#123;</span><br><span class="line">    for(let i = 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">        if (arr[i].source === item) &#123;</span><br><span class="line">            return arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="https://juejin.im/post/5bc1ae9be51d450e8b140b0c" target="_blank" rel="noopener">https://juejin.im/post/5bc1ae9be51d450e8b140b0c</a></p>
<p><a href="https://juejin.im/post/5abb55ee6fb9a028e33b7e0a" target="_blank" rel="noopener">https://juejin.im/post/5abb55ee6fb9a028e33b7e0a</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Relearn/" rel="tag"><i class="fa fa-tag"></i> Relearn</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/11/23/es6/" rel="next" title="ES6 in Depth">
                <i class="fa fa-chevron-left"></i> ES6 in Depth
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/11/25/debounce-throttle/" rel="prev" title="Debounce and Throttle">
                Debounce and Throttle <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Fanjia Kong</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">27</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="mailto:kfj0116@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i></a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Shallow-Clone-VS-Deep-Clone"><span class="nav-number">1.</span> <span class="nav-text">Shallow Clone VS Deep Clone</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Shallow-Clone"><span class="nav-number">2.</span> <span class="nav-text">Shallow Clone</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Traversing-object-properties"><span class="nav-number">2.1.</span> <span class="nav-text">Traversing object properties</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Object-assign"><span class="nav-number">2.2.</span> <span class="nav-text">Object.assign()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Deep-Clone"><span class="nav-number">3.</span> <span class="nav-text">Deep Clone</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#JSON-parse"><span class="nav-number">3.1.</span> <span class="nav-text">JSON.parse</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Recursion"><span class="nav-number">3.2.</span> <span class="nav-text">Recursion</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Loop"><span class="nav-number">3.3.</span> <span class="nav-text">Loop</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reference"><span class="nav-number">4.</span> <span class="nav-text">Reference</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Fanjia Kong</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
